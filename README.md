## با استفاده از IP های لیست شده، زیر دامنه Cloudflare را اضافه یا جایگزین کنید

این اسکریپت یک اسکریپت Bash است که برای تغییر رکوردهای DNS درCloudflare  برای یک زیر دامنه خاص طراحی شده است. اطلاعات کاربری Cloudflare و جزئیات اصلاح رکورد A را از کاربر می پرسد و سپس رکوردهای A  موجود را برای زیردامنه مشخص شده حذف کرده و رکوردهای A جدید را بر اساس آی‌پی‌های لیست شده در فایل CSV به همان زیردامنه در کلادفلر شما اضافه می‌کند.

این اسکریپت پس از دریافت اطلاعات مورد نیاز برای دسترسی به کلادفلر، زیردامنه و همینطور مسیر فایل CSV، این اطلاعات را برای استفاده های بعدی در یه فایل کانفیگ در مسیر اجرای اسکریپت ذخیره می‌کند.

این اسکریپت از Cloudflare API برای بازیابی رکوردهای A موجود برای زیر دامنه، حذف آنها و اضافه کردن رکوردهای A جدید برای هر آدرس IP فهرست شده در فایل CSV استفاده می کند.

برای اجرای اسکریپت باید موارد زیر را داشته باشید:

- یک حساب Cloudflare با کلید  API، شناسه Zone و آدرس ایمیل مرتبط با آن.
- یک فایل CSV حاوی لیست آدرس های IP جدید برای زیر دامنه که هر آی‌پی در یک سطر آورده شده است.
- اسکریپت ذخیره شده در یک فایل با پسوند ".sh".
- فایل اسکریپت باید با استفاده از دستور "chmod +x cf-replace-ips.sh" قابل اجرا باشد.

### لینوکس/مک
برای اجرای اسکریپت در ترمینال MacOSX/Linux، پوشه اسکریپت را دانلود کرده و در پوشه اصلی خود از حالت فشرده خارج کنید، سپس به پوشه مربوطه بروید، سپس مراحل زیر را انجام دهید:
```
cd ~/cf-replace-ips
bash ./cf-replace-ips.sh
```

### ویندوز
برای ویندوز، برای اجرای اسکریپت های bash باید بسته ای را نصب کنید، توصیه می کنم [Cygwin](https://www.cygwin.com) مناسب را بر اساس نسخه ویندوز خود نصب کنید.
برای اجرای اسکریپت در Cygwin، اسکریپت را دانلود کنید و پوشه اسکریپت را در پوشه اصلی خود در Cygwin کپی کنید (معمولاً در 'C:\Cygwin\home\yourname' قرار می گیرد)، سپس Cygwin را اجرا کنید و مراحل زیر را انجام دهید:
```
cd ~/cf-replace-ips
bash ./cf-replace-ips.sh
```

هنگامی که اسکریپت اجرا شد، از کاربر می‌خواهد اعتبارنامه Cloudflare و جزئیات اصلاح رکورد A را دریافت کند. اگر قبلا این مقادیر داده باشید، به‌عنوان پیش فرض برای کاربر نمایش داده می‌شود.

این اسکریپت باید با احتیاط استفاده شود، زیرا می تواند رکوردهای DNS را برای یک زیر دامنه تغییر دهد، که به طور بالقوه بر در دسترس بودن وب سایت تأثیر می گذارد. توصیه می شود ابتدا آن را در یک محیط غیر تولیدی تست کنید.
